<!DOCTYPE html>
<html lang="da">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kamal</title>
    <style>
        html,
        body,
        * {
            margin: 2px;
            padding: 2px;
        }

        button {
            font-size: 1rem;
            margin: 0px 10px 10px 10px;
            padding: 10px;
            background-color: rgba(232, 86, 32, 0.79);
            color: white;
            border-color: white;
            font-family: fantasy;
            width: auto;

        }

        #liste {
            display: grid;
            grid-template-columns: 10fr 10fr 10fr 10fr;
            background-color: beige;
            background-size: contain;


        }

        p {
            font-family: georgia;
        }

        h1,
        h2,
        h3 {
            font-family: aglet slab;
            text-align: center;
        }

        .valgt {
            background-color: rgb(255, 210, 86);
            color: white;
        }

        nav {
            text-align: center;
        }

        #splash {
            background-image: url(imgs/nyforside.jpg);
            width: 100%;
            height: 400px;
            align-items: center;
        }

        .hide {
            display: none;
        }

        img {
            width: 100%;
        }

        .forret {
            background-image: url(imgs/forret.jpg);
            text-align: center;
            padding: 20px;
            color: white;
        }

        .hovedret {
            background-image: url(imgs/mad4.jpg);
            text-align: center;
            padding: 20px;
            color: white;
        }

        .dessert {
            background-image: url(imgs/dessert.jpg);
            text-align: center;
            padding: 20px;
            color: white;
        }

        .tilbehor {
            background-image: url(imgs/sideorders.jpg);
            text-align: center;
            padding: 20px;
            color: white;
        }

        .drikkevarer {
            background-image: url(imgs/drinks2.jpg);
            text-align: center;
            padding: 20px;
            color: white;
        }


        .facebook {
            background-color: #53372C;
            height: 65px;
            width: 65px;
            border-radius: 70%;
            text-align: center;
            font-size: 2rem;
            color: white;

        }

        .facebook p {
            text-align: center;
        }

        #footer {
            text-align: center;
            align-items: center;
        }

        #popup {
            width: 100vw;
            height: 100vw;
            position: fixed;
            background-color: rgba(255, 210, 86, 0.29);
            display: none;
        }

        #indhold {
            background-color: beige;
            width: 70vw;
            height: auto;
            margin: auto;
            text-align: center;
        }

        #indhold p {
            text-align: left;
            margin: 0px 50px 20px 50px;

        }

        #indhold h2 {
            text-align: left;
            margin: 0px 50px 0px 50px;
        }

        #indhold img {
            width: 50%;
            margin: 30px 0px;
        }

        #luk {
            box-sizing: border-box;
            text-align: right;
            padding: 5px 5vw;
        }

        #luk button {
            font-size: 1em;
        }

        article {
            text-align: left;

        }

    </style>
</head>

<body>

    <header>

        <nav>
            <div id="splash">
                <img src="imgs/logo_medskrift.svg" alt="KAMAL logo">
            </div>
            <button id="omos">
                <h3>OM OS</h3>
            </button>
            <button id="menu">
                <h3>MENU</h3>
            </button>
            <button id="kontakt">
                <h3>KONTAKT</h3>
            </button>
        </nav>

        <div id="popup">
            <div id="luk"><button>X</button></div>
            <div id="indhold"></div>
        </div>

        <div id="omosindhold" class="hide">
            <h2>OM OS</h2>
            <div>
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. </p>
                <img src="imgs/mad3.jpg" alt="buffet med indisk mad">

            </div>
            <div>
                <h3>Ægte indiske retter</h3>
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.</p>
                <img src="imgs/indisk_pige.jpg" alt="indisk pige">
            </div>
        </div>

        <div id="menuindhold" class="hide">
            <h2>MENU</h2>
            <div id="retmenu">
                <h2></h2>
                <button class="filter alle" data-kategori="alle">
                    <h3>Alle</h3>
                </button>
                <button class="filter forret" data-kategori="forret">
                    <h3>Forretter</h3>
                </button>
                <button class="filter hovedret" data-kategori="hovedret">
                    <h3>Hovedretter</h3>
                </button>

                <button class="filter dessert" data-kategori="dessert">
                    <h3>Desserter</h3>
                </button>

                <button class="filter tilbehor" data-kategori="tilbehør">
                    <h3>Tilbehør</h3>
                </button>

                <button class="filter drikkevarer" data-kategori="drikkevarer">
                    <h3>Drikkevarer</h3>
                </button>
            </div>

            <div id="liste"></div>


        </div>

        <div id="kontaktindhold" class="hide">
            <h2>KONTAKT</h2>
            <img src="imgs/maps1.png" alt="maps1">
            <p>Åbningstider:
                <br>
                Mandag til torsdag: 13:00 - 22:00 (Køkkenet lukker kl. 20:00)
                <br>
                Fredag til Søndag: to Saturday: 10:00 - 23:00 (Køkkenet lukker kl. 20:00)
                <br>
                Address:
                Classensgade 67, København-Ø, 2100.
                <br>
                Contact info:
                Tel: 48424319
                Email: info@kamal.dk</p>
        </div>
    </header>



    <footer>
        <div id="footer">
            <p>
                Kamal
                <br>
                Indian street food
                <br>
                <br>
                Følg os på
            </p>

            <div class="facebook">
                <h2>f</h2>
            </div>
        </div>

    </footer>
    <script>
        let retter = [];
        let filter = "alle";

        document.addEventListener("DOMContentLoaded", start);

        function start() {
            console.log(start);
            visOmos();

            function visOmos() {
                console.log(visOmos);

                document.querySelector("#omosindhold").classList.remove("hide");
                document.querySelector("#menuindhold").classList.add("hide");
                document.querySelector("#kontaktindhold").classList.add("hide");


                document.querySelector("#kontakt").addEventListener("click", visKontakt);
                document.querySelector("#menu").addEventListener("click", visMenu);

            }

            function visMenu() {
                console.log(visMenu);
                document.querySelector("#menuindhold").classList.remove("hide");
                document.querySelector("#omosindhold").classList.add("hide");
                document.querySelector("#kontaktindhold").classList.add("hide");

                let dest = document.querySelector("#liste");
                async function getJson() {
                    let jsonData = await fetch("https://mandalskeawebspace.dk/claude_php/clean_up_spreadsheet.php?id=1PnTZaiU0JnN__2Zz30FHrbOGo8cERH7p8EIcredBAJU");
                    retter = await jsonData.json();
                    visRetter();

                    function visRetter() {
                        dest.innerHTML = "";
                        retter.forEach(ret => {
                            if (filter == "alle" || filter == ret.kategori) {
                                let template = `
                            <article class="ret">
                                    <img src="imenu/${ret.billede}.jpg">
                                    <h2>${ret.navn}</h2> <br>
                                    <p>${ret.kort}</p>
                                    <p>Pris: ${ret.pris}</p>
                                </article>
                            `;
                                dest.insertAdjacentHTML("beforeend", template);
                                dest.lastElementChild.addEventListener("click", åbn);

                                function åbn() {
                                    document.querySelector("#indhold").innerHTML = `
                                <article class="ret">
                                    <img src="menu/${ret.billede}.jpg">
                                    <h2>${ret.navn}</h2> <br>
                                    <p>${ret.kort}</p>
                                    <p>Pris: ${ret.pris}</p>
                                </article>
                                `;
                                    document.querySelector("#popup").style.display = "block";
                                }
                            }
                        })
                    }
                    document.querySelectorAll(".filter").forEach(elm => {
                        elm.addEventListener("click", filtrering);
                    })

                    function filtrering() {
                        filter = this.getAttribute("data-kategori");
                        document.querySelector("h2").textContent = this.textContent;
                        document.querySelectorAll(".filter").forEach(elm => {
                            elm.classList.remove("valgt");
                        })
                        this.classList.add("valgt");
                        visMenu();
                    }

                    document.querySelector("#kontakt").addEventListener("click", visKontakt);
                    document.querySelector("#omos").addEventListener("click", visOmos);


                }
                getJson();
            }

            function visKontakt() {
                console.log(visKontakt);
                document.querySelector("#kontaktindhold").classList.remove("hide");
                document.querySelector("#menuindhold").classList.add("hide");
                document.querySelector("#omosindhold").classList.add("hide");


                document.querySelector("#omos").addEventListener("click", visOmos);
                document.querySelector("#menu").addEventListener("click", visMenu);

            }



        }

    </script>
</body>

</html>
